"use strict";(self["webpackChunkvue_cread"]=self["webpackChunkvue_cread"]||[]).push([[973],{5973:function(t,e,n){n.r(e),n.d(e,{default:function(){return p}});var a=function(){var t=this,e=t._self._c;return e("div",[e("BasePanel",{scopedSlots:t._u([{key:"panel-head",fn:function(){return[e("router-link",{attrs:{to:"/"}},[t._v("主页")]),t._v(" / "),e("span",[t._v("发布话题")])]},proxy:!0},{key:"panel-content",fn:function(){return[e("span",[t._v("请选择板块：")]),e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("el-option",{attrs:{label:"分享",value:"share"}},[t._v("分享")]),e("el-option",{attrs:{label:"招聘",value:"job"}},[t._v("招聘")]),e("el-option",{attrs:{label:"问答",value:"ask"}},[t._v("问答")]),e("el-option",{attrs:{label:"客户端测试",value:"dev"}},[t._v("客户端测试")])],1),e("el-input",{attrs:{placeholder:"标题字数 10 字以上"},model:{value:t.title,callback:function(e){t.title="string"===typeof e?e.trim():e},expression:"title"}}),e("div",{staticClass:"markdown-container"},[e("div",{staticClass:"container"},[e("mavon-editor",{ref:"md",staticStyle:{"min-height":"400px"},model:{value:t.content,callback:function(e){t.content="string"===typeof e?e.trim():e},expression:"content"}}),e("el-button",{staticClass:"editor-btn",attrs:{type:"primary",plain:""},on:{click:t.submit}},[t._v("提交")])],1)])]},proxy:!0}])})],1)},l=[],i=(n(7658),n(9969)),o=n(3150),s={components:{BasePanel:i.Z},data(){return{tab:"",title:"",content:"",markdownOption:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!0,code:!0,table:!0,fullscreen:!0,readmodel:!0,htmlcode:!0,help:!0,undo:!0,redo:!0,trash:!0,save:!0,navigation:!0,alignleft:!0,aligncenter:!0,alignright:!0,subfield:!0,preview:!0}}},methods:{async submit(){const{tab:t,content:e,title:n}=this,a=sessionStorage.getItem("accesstoken"),l=await(0,o.Ue)(a,n,t,e);this.$router.push(`/topic/${l.topic_id}`),this.$notify({title:"发布成功",message:"跳转到文章页"})}}},r=s,c=n(1001),u=(0,c.Z)(r,a,l,!1,null,null,null),p=u.exports}}]);
//# sourceMappingURL=973.59a4621b.js.map